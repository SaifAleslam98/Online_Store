<div class="container">


    <div class="tab_container">


        <input id="tab2" type="radio" name="tabs" class="input">
        <label for="tab2"><i class="fa fa-home"></i><span>Profile</span></label>

        <input id="tab3" type="radio" name="tabs" class="input">
        <label for="tab3"><i class="fa fa-file-text" aria-hidden="true"></i><span>Orders</span></label>

        <input id="tab4" type="radio" name="tabs" class="input">
        <label for="tab4"><i class="fa fa-folder-open-o"></i><span>Portfolio</span></label>

        <section id="content2" class="tab-content section">
            <div class="grid">
                <div>
                    <img src="/images/AirpodsPro2.png" id="profileImg">
                    <input type="file" name="" id="imgFile" style="font-size: 14px;" class="d-none">
                </div>
                <div id="tableShow">
                    <table>
                        <tr>
                            <td><b>user name</b></td>
                            <td>saif aleslam</td>
                        </tr>
                        <tr>
                            <td><b>Email</b></td>
                            <td>saif aleslam</td>
                        </tr>
                        <tr>
                            <td><b>Contact</b></td>
                            <td>saif aleslam</td>
                        </tr>
                        <tr>
                            <td><b>Address</b></td>
                            <td>saif aleslam</td>
                        </tr>
                        <tr>
                            <td><b>Password</b></td>
                            <td>*********</td>
                        </tr>
                        <tr>
                            <td><button type="button" class="" data-tooltip="Update" id="updateProfile"><i
                                        class="fa fa-repeat" aria-hidden="true"></i> update profile</button></td>
                        </tr>
                    </table>
                </div>

                
                <form action="/users/updateProfile" method="post" class="d-none" id="newProfile">
                {{#each messagesProfile}}
                <div class="bar error">

                    {{this}}

                </div>

                {{/each}}
                    <h6>Please Fill This Fields To update profile</h6>
                    User Name
                    <input type="text" id="" name="userName" placeholder="enter your name" class="font-17" />
                    Email
                    <input type="email" id="" name="userEmail" placeholder="enter email" />
                    Contact
                    <input type="number" id="" name="userPhone" placeholder="enter phone number" />
                    Address
                    <input type="text" id="" name="userAddress" placeholder="enter your address" />
                    Password
                    <input type="password" id="" name="userPassword" placeholder="enter password" />
                    Confirm-password
                    <input type="password" id="" name="repassword" placeholder="confirm password" />
                    <input type="hidden" name="_csrf" value="{{token}}">
                    <button type="submit" id="cash"> save</button>
                    <a href="/users/profile" class="cancelButton">Cancel</a>
                </form>
            </div>
        </section>

        <section id="content3" class="tab-content section">

            <div class="order">
                {{#if orderDeleted}}
                <div class="bar success">
                    {{orderDeleted}}
                </div>
                {{/if}}
                {{#if userOrder}}
                {{#each userOrder as | val index|}}
                <br>
                <table class="table">
                    <tr>
                        <td colspan="4">Order {{add @index}}</td>
                    </tr>
                    <tr>

                        <td colspan="2">{{this.address}}</td>
                        <td colspan="2">{{this.phone}}</td>

                    </tr>
                    <tr class="thead-dark">
                        <th scope="col">#</th>
                        <th scope="col">Product Name</th>
                        <th scope="col">Prodcut Quantity</th>
                        <th scope="col">Price</th>
                    </tr>
                    {{#each this.cart.selectedProduct as | val indexProduct|}}
                    <tr>
                        <td>{{add @indexProduct}}</td>
                        <td>{{this.name}}</td>
                        <td>{{this.quantity}}</td>
                        <td>{{this.price}} - SDG</td>
                    </tr>
                    {{/each}}
                    <tr>
                        <th colspan="3" class="text-left"><b>Total Price</b></th>
                        <th class="">{{this.orderPrice}} - SDG</th>
                    </tr>
                    <tr>
                        <td colspan="4"><a href="/users/deleteorder/{{this._id}}" class="dangers btn-trash"><i
                                    class="fa-solid fa-trash"></i>delete order</a>
                        </td>
                    </tr>
                </table>
                <hr width="100%" color="red" size="2px">
                {{/each}}
                {{else}}
                <div class="container text-center">
                    <h4 style="margin-top: 60px;"> No Orders!</h4>
                </div>
                {{/if}}

            </div>
        </section>

        <section id="content4" class="tab-content section">
            <h3>Headline 4</h3>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                tempor incididunt ut labore et dolore magna aliqua.</p>


        </section>


    </div>


</div>

<script>
    document.getElementById('imgFile').onchange = function () {
        const reader = new FileReader();
        reader.readAsDataURL(this.files[0]);
        reader.onload = function () {
            document.getElementById('profileImg').src = this.result;
        }
    }
    document.getElementById('updateProfile').onclick = function () {
        $('#tableShow').addClass('d-none')
        $('#imgFile').removeClass('d-none')
        $('#newProfile').removeClass('d-none')
    }
</script>